// LiFi Receiver Arduino Code

int sensorPin = A0;  // Photodiode sensor connected to analog pin A0

void setup() {
  Serial.begin(9600);  // Initialize serial communication
}

void loop() {
  int sensorValue = analogRead(sensorPin);  // Read the sensor value
  if (sensorValue > 500) {  // Adjust the threshold value as per your environment
    String receivedData = readLiFiData();
    if (!receivedData.isEmpty()) {
      Serial.println("Received Data: " + receivedData);
    }
  }
  delay(100);
}

String readLiFiData() {
  String data = "";
  while (Serial.available()) {
    char c = Serial.read();
    if (c == '\n') {
      break;
    }
    data += c;
  }
  return data;
}
